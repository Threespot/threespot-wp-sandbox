function ldGetUrlVars(){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,l){t[a]=l});return t}jQuery(document).ready(function(t){function e(){t(window).width()<768?a():l()}function a(){t(".ld-focus").addClass("ld-focus-sidebar-collapsed"),t(".ld-mobile-nav").removeClass("expanded"),p()}function l(){t(".ld-focus").removeClass("ld-focus-sidebar-collapsed"),t(".ld-mobile-nav").addClass("expanded"),p()}function s(e,a){var l=t(a)[0].hasAttribute("data-ld-expand-text")?t(a).attr("data-ld-expand-text"):"Expand",s=t(a)[0].hasAttribute("data-ld-collapse-text")?t(a).attr("data-ld-collapse-text"):"Collapse";"collapse"==e?(t(a).removeClass("ld-expanded"),"false"!==s&&t(a).find(".ld-text").text(l)):(t(a).addClass("ld-expanded"),"false"!==s&&t(a).find(".ld-text").text(s))}function o(e,a){void 0===a&&(a=!1);var l=t(e).hasClass("ld-expanded");if(t(e)[0]&&t(e)[0].hasAttribute("data-ld-expands")){var n=t(e).attr("data-ld-expands"),r=t("#"+n),c=t("#"+n).find(".ld-item-list-item-expanded");c.length&&(r=c);var u=0;if(r.find("> *").each(function(){u+=t(this).outerHeight()}),r.attr("data-height",""+(u+50)),t("#"+n)[0].hasAttribute("data-ld-expand-list")){var f=t("#"+n),h=f.find(".ld-expand-button");l?(s("collapse",e),h.each(function(){o(t(this),!0)})):(s("expand",e),h.each(function(){o(t(this))}))}else t("#"+n).length?l||1==a?d(e,t("#"+n),r):i(e,t("#"+n),r):console.log("LearnDash: No expandable content was found");p()}}function d(t,e,a){e.removeClass("ld-expanded"),s("collapse",t),a.css({"max-height":0})}function i(t,e,a){e.addClass("ld-expanded"),s("expand",t),a.css({"max-height":a.data("height")})}function n(){if(t("#learndash-tooltips").length&&(t("#learndash-tooltips").remove(),k=t("*[data-ld-tooltip]")),k.length){t("body").prepend('<div id="learndash-tooltips"></div>');k.each(function(){var e=t(this);e.hasClass("ld-item-list-item")&&(e=e.find(".ld-item-title"));e.offset().top,e.offset().left,e.outerWidth();var a=t(this).attr("data-ld-tooltip"),l=Math.floor(99999*Math.random()),s='<span id="ld-tooltip-'+l+'" class="ld-tooltip">'+a+"</span>";t(this).attr("data-ld-tooltip-id",l),t("#learndash-tooltips").append(s),0;s=t("#ld-tooltip-"+l);t(this).hover(function(){s.addClass("ld-visible")},function(){s.removeClass("ld-visible")})}),t(window).on("resize",function(){p()}),t(window).add(".ld-focus-sidebar-wrapper").on("scroll",function(){t(".ld-visible.ld-tooltip").removeClass("ld-visible"),p()}),p()}}function r(){var e=t(".learndash-wrapper-login-modal");void 0!==e&&e.length&&t(e).prependTo("body")}function c(){var e=t(".learndash-wrapper-login-modal");void 0!==e&&e.length&&(t(e).addClass("ld-modal-open"),t(e).removeClass("ld-modal-closed"),t("html, body").animate({scrollTop:t(".ld-modal",e).offset().top},50))}function u(){var e=t(".learndash-wrapper-login-modal");void 0!==e&&e.length&&(t(e).removeClass("ld-modal-open"),t(e).addClass("ld-modal-closed"))}function p(){void 0!==k&&setTimeout(function(){k.each(function(){var e=t(this),a=e.attr("data-ld-tooltip-id");$tooltip=t("#ld-tooltip-"+a),e.hasClass("ld-item-list-item")&&(e=e.find(".ld-status-icon"));var l=jQuery(e).parents(".ld-focus-sidebar"),s=e.offset().left+(e.outerWidth()+10);l.length&&(s=e.offset().left+(e.outerWidth()-18)),$tooltip.css({top:e.offset().top+-3,left:s,"margin-left":0,"margin-right":0}).removeClass("ld-shifted-left ld-shifted-right"),$tooltip.offset().left<=0&&$tooltip.css({"margin-left":Math.abs($tooltip.offset().left)}).addClass("ld-shifted-left");var o=t(window).width()-($tooltip.offset().left+$tooltip.outerWidth());o<=0&&$tooltip.css({"margin-right":Math.abs(o)}).addClass("ld-shifted-right")})},500)}function f(t){t.preventDefault();var e=jQuery(this).data("ref-id"),a=jQuery(this).data("quiz-id"),l=jQuery(this).data("user-id"),s=jQuery(this).data("statistic-nonce"),o={action:"wp_pro_quiz_admin_ajax",func:"statisticLoadUser",data:{quizId:a,userId:l,refId:e,statistic_nonce:s,avg:0}};jQuery("#wpProQuiz_user_overlay, #wpProQuiz_loadUserData").show();var d=jQuery("#wpProQuiz_user_content").hide();console.log("- learndash.js"),jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:o,error:function(t,e,a){},success:function(t){void 0!==t.html&&(d.html(t.html),jQuery("#wpProQuiz_user_content").show(),console.log("trigger event change - learndash.js"),jQuery("body").trigger("learndash-statistics-contentchanged"),jQuery("#wpProQuiz_loadUserData").hide(),d.find(".statistic_data").click(function(){return jQuery(this).parents("tr").next().toggle("fast"),!1}))}}),jQuery("#wpProQuiz_overlay_close").click(function(){jQuery("#wpProQuiz_user_overlay").hide()})}function h(e){var a=0;e.find("> *").each(function(){a+=t(this).outerHeight()}),e.attr("data-height",""+(a+50)),e.css({"max-height":a+50})}var v=window.location.hash;if(r(),"#login"==v&&c(),void 0!==ldGetUrlVars().login){var m=ldGetUrlVars().login;"failed"==m&&c()}if(void 0!==ldGetUrlVars()["ld-topic-page"]){var _=ldGetUrlVars()["ld-topic-page"],g=_.split("-"),b=Object.values(g)[0],x=t("#ld-expand-"+b),w=t(x).find(".ld-expand-button");o(w),t("html, body").animate({scrollTop:t(x).offset().top},500)}t("body").on("click",'a[href="#login"]',function(t){t.preventDefault(),c()}),t("body").on("click",".ld-modal-closer",function(t){t.preventDefault(),u()}),t("body").on("click","#ld-comments-post-button",function(e){t(this).addClass("ld-open"),t("#ld-comments-form").removeClass("ld-collapsed"),t("textarea#comment").focus()}),t(document).keyup(function(t){27===t.keyCode&&u()}),t(".learndash-wrapper").on("click","a.user_statistic",f),e(),t("body").on("click",".ld-focus-sidebar-trigger",function(e){t(".ld-focus").hasClass("ld-focus-sidebar-collapsed")?l():a()}),t("body").on("click",".ld-mobile-nav a",function(e){e.preventDefault(),t(".ld-focus").hasClass("ld-focus-sidebar-collapsed")?l():a()}),t(".ld-js-register-account").click(function(e){e.preventDefault(),t(".ld-login-modal-register .ld-modal-text").slideUp("slow"),t(".ld-login-modal-register .ld-alert").slideUp("slow"),t(this).slideUp("slow",function(){t("#ld-user-register").slideDown("slow")})});var C=t(window).width();if(t(window).on("orientationchange",function(){C=t(window).width()}),t(window).on("resize",function(){t(this).width()!==C&&setTimeout(function(){e()},50)}),t(".ld-course-status-content").length){var y=0;t(".ld-course-status-content").each(function(){t(this).height()>y&&(y=t(this).height())}),t(".ld-course-status-content").height(y)}t(".ld-file-input").each(function(){var e=t(this),a=e.next("label"),l=a.html();e.on("change",function(e){var s="";this.files&&this.files.length>1?s=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(s=e.target.value.split("\\").pop()),s?(a.find("span").html(s),a.addClass("ld-file-selected"),t("#uploadfile_btn").attr("disabled",!1)):(a.html(l),a.removeClass("ld-file-selected"),t("#uploadfile_btn").attr("disabled",!0))}),e.on("focus",function(){e.addClass("has-focus")}).on("blur",function(){e.removeClass("has-focus")})}),t("body").on("click",".ld-expand-button",function(e){e.preventDefault(),o(t(this)),p()}),t("body").on("click",".ld-search-prompt",function(e){e.preventDefault(),t("#course_name_field").focus(),o(t(this))}),t("body").on("click",".ld-closer",function(e){o(t(".ld-search-prompt"),!0)}),t("body").on("click",".ld-tabs-navigation .ld-tab",function(){var e=t("#"+t(this).attr("data-ld-tab"));e.length&&(t(".ld-tabs-navigation .ld-tab.ld-active").removeClass("ld-active"),t(this).addClass("ld-active"),t(".ld-tabs-content .ld-tab-content.ld-visible").removeClass("ld-visible"),e.addClass("ld-visible")),p()});var k=t("*[data-ld-tooltip]");if(n(),t("body").on("click","#ld-profile .ld-reset-button",function(e){e.preventDefault();var a={shortcode_instance:t("#ld-profile").data("shortcode_instance")};t("#ld-profile #ld-main-course-list").addClass("ld-loading"),t.ajax({type:"GET",url:ajaxurl+"?action=ld30_ajax_profile_search",data:a,success:function(e){void 0!==e.data.markup&&t("#ld-profile").html(e.data.markup)}})}),t("body").on("submit",".ld-item-search-fields",function(e){e.preventDefault();var a={shortcode_instance:t("#ld-profile").data("shortcode_instance")};a["ld-profile-search"]=t(this).parents(".ld-item-search-wrapper").find("#course_name_field").val(),t("#ld-profile #ld-main-course-list").addClass("ld-loading"),t.ajax({type:"GET",url:ajaxurl+"?action=ld30_ajax_profile_search",data:a,success:function(e){void 0!==e.data.markup&&t("#ld-profile").html(e.data.markup)}})}),t("body").on("click",".ld-pagination a",function(e){e.preventDefault();var a={};t(this).attr("href").replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,l){a[e]=l}),a.pager_results=t(this).parents(".ld-pagination").data("pager-results"),a.context=t(this).data("context"),"profile"!=a.context&&(a.lesson_id=t(this).data("lesson_id"),a.course_id=t(this).data("course_id"),t(".ld-course-nav-"+a.course_id).length&&(a.widget_instance=t(".ld-course-nav-"+a.course_id).data("widget_instance"))),"course_topics"==a.context&&(t("#ld-topic-list-"+a.lesson_id).addClass("ld-loading"),t("#ld-nav-content-list-"+a.lesson_id).addClass("ld-loading")),"course_lessons"==a.context&&(t("#ld-item-list-"+a.course_id).addClass("ld-loading"),t("#ld-lesson-list-"+a.course_id).addClass("ld-loading")),"profile"==a.context&&(t("#ld-profile #ld-main-course-list").addClass("ld-loading"),a.shortcode_instance=t("#ld-profile").data("shortcode_instance")),"course_content_shortcode"==a.context&&(t(".ld-course-content-"+a.course_id).addClass("ld-loading"),a.shortcode_instance=t(".ld-course-content-"+a.course_id).data("shortcode_instance")),"course_info_courses"==a.context&&(t(".ld-user-status").addClass("ld-loading"),a.shortcode_instance=t(".ld-user-status").data("shortcode-atts"),console.log(a)),t.ajax({type:"GET",url:ajaxurl+"?action=ld30_ajax_pager",data:a,success:function(e){"course_topics"==a.context&&(t("#ld-topic-list-"+a.lesson_id).length&&(void 0!==e.data.topics&&t("#ld-topic-list-"+a.lesson_id).html(e.data.topics),void 0!==e.data.pager&&t("#ld-expand-"+a.lesson_id).find(".ld-table-list-footer").html(e.data.pager),h(t(".ld-lesson-item-"+a.lesson_id).find(".ld-item-list-item-expanded")),t("#ld-topic-list-"+a.lesson_id).removeClass("ld-loading")),t("#ld-nav-content-list-"+a.lesson_id).length&&(void 0!==e.data.nav_topics&&t("#ld-nav-content-list-"+a.lesson_id).find(".ld-table-list-items").html(e.data.topics),void 0!==e.data.pager&&t("#ld-nav-content-list-"+a.lesson_id).find(".ld-table-list-footer").html(e.data.pager),t("#ld-nav-content-list-"+a.lesson_id).removeClass("ld-loading"))),"course_lessons"==a.context&&(t("#ld-item-list-"+a.course_id).length&&void 0!==e.data.lessons&&t("#ld-item-list-"+a.course_id).html(e.data.lessons).removeClass("ld-loading"),t("#ld-lesson-list-"+a.course_id).length&&void 0!==e.data.nav_lessons&&t("#ld-lesson-list-"+a.course_id).html(e.data.nav_lessons).removeClass("ld-loading")),"profile"==a.context&&void 0!==e.data.markup&&t("#ld-profile").html(e.data.markup),"course_content_shortcode"==a.context&&void 0!==e.data.markup&&t("#learndash_post_"+a.course_id).replaceWith(e.data.markup),"course_info_courses"==a.context&&void 0!==e.data.markup&&t(".ld-user-status").replaceWith(e.data.markup),t("body").trigger("ld_has_paginated"),n()}})}),t("#learndash_timer").length){var j=jQuery("#learndash_timer"),Q=j.attr("data-timer-seconds"),D=jQuery(j.attr("data-button")),z=j.attr("data-cookie-key");if(void 0!==z)var U="learndash_timer_cookie_"+z;else U="learndash_timer_cookie";cookie_timer_seconds=jQuery.cookie(U),"undefined"!=typeof cookie_timer_seconds&&(Q=parseInt(cookie_timer_seconds)),0==Q&&t(j).hide(),t(D).on("learndash-time-finished",function(){t(j).hide()})}t(document).on("learndash_video_disable_assets",function(e,a){if("undefined"==typeof learndash_video_data)return!1;"BEFORE"==learndash_video_data.videos_shown&&(1==a?(t(".ld-lesson-topic-list").hide(),t(".ld-lesson-navigation").find("#ld-nav-content-list-"+ldVars.postID).addClass("user_has_no_access"),t(".ld-quiz-list").hide()):(t(".ld-lesson-topic-list").slideDown(),t(".ld-quiz-list").slideDown(),t(".ld-lesson-navigation").find("#ld-nav-content-list-"+ldVars.postID).removeClass("user_has_no_access")))}),t(".learndash-wrapper").on("click",'.wpProQuiz_questionListItem input[type="radio"]',function(e){t(this).parents(".wpProQuiz_questionList").find("label").removeClass("is-selected"),t(this).parents("label").addClass("is-selected")})});